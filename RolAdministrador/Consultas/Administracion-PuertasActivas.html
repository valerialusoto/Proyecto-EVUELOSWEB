<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puertas Activas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
   
    <link rel="stylesheet" href="PuertasActivas.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link text-white"
                            href="hhttp://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/HomeAdministrador.html">Inicio</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-white" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Usuarios
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item"
                                    href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Seguridad/Administracion-CrearUsuarios.html">Crear
                                    Usuarios</a></li>
                            <li><a class="dropdown-item"
                                    href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Seguridad/Administracion-VerUsuarios.html">Ver
                                    Usuarios</a></li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-white" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Administración
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item"
                                    href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Administracion/Administracion-Aerolineas.html">Aerolíneas</a>
                            </li>
                            <li><a class="dropdown-item"
                                    href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Administracion/Administracion-Paises.html">Países</a>
                            </li>
                            <li><a class="dropdown-item"
                                    href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Administracion/Administracion-PuertasAeropuerto.html">Puertas
                                    del Aeropuerto</a></li>
                            <li><a class="dropdown-item"
                                    href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Administracion/Administracion-CompraBoletos.html">Compras
                                    de Boletos</a></li>
                            <li><a class="dropdown-item"
                                    href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Administracion/Administracion-Vuelos.html">Vuelos</a>
                            </li>
                            <li><a class="dropdown-item"
                                    href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Administracion/Administracion-Consecutivos.html">Consecutivos</a>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-white" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Consultas
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item"
                                    href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Consultas/Administracion-BitacoraSistema.html">Bitácora
                                    del Sistema</a></li>
                            <li><a class="dropdown-item"
                                    href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Consultas/Administracion-Errores.html">Errores</a>
                            </li>
                            <li><a class="dropdown-item"
                                    href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Consultas/Administracion-AerolineasPaises.html">Aeroíneas
                                    por país</a></li>
                            <li><a class="dropdown-item"
                                    href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Consultas/Administracion-PuertasActivas.html">Puertas
                                    Activas</a></li>
                        </ul>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link text-white"
                            href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/PerfilAdministrador.html">Perfil</a>
                    </li>

                </ul>
            </div>
        </div>
    </nav>


<br><br>
<br><br>

<div class="container">
    <h1>Crear Puerta del Aeropuerto</h1>
    <form id="form-puerta" method="POST">
        <div class="form-group">
            <label for="codigo">Código de Puerta</label>
            <input type="text" id="codigo" name="codigo" required>
        </div>
        <div class="form-group">
            <label for="numero">Número de Puerta</label>
            <input type="number" id="numero" name="numero" min="1" required>
        </div>
        <div class="form-group">
            <label for="detalle">Detalle</label>
            <select id="detalle" name="detalle" required>
                <option value="">Seleccione una opción</option>
                <option value="abierta">Abierta</option>
                <option value="cerrada">Cerrada</option>
                <option value="fuera de servicio">Fuera de Servicio</option>
            </select>
        </div>
        


        <div class="form-group" style="display: grid; grid-template-columns: 1fr 1fr;">
            <button type="submit">Crear</button>
            <button type="reset">Cancelar</button>
        </div>
        
        
    </form>
</div> 



<br><br>

<table class="data-table">
    <thead>
        <tr>
            <th>Código de Puerta</th>
            <th>Número de Puerta</th>
            <th>Detalle</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        <!-- Las filas de la tabla se agregarán dinámicamente aquí -->
    </tbody>
</table>

<br><br><br><br><br>

 


<script>
    function nuevaPuerta() {
        document.getElementById('form-puerta').reset();
    }

    function editarPuerta(codigo) {
        // Encuentra la puerta con el código proporcionado
        var puertas = JSON.parse(localStorage.getItem('puertas')) || [];
        var puerta = puertas.find(function(p) { return p.codigo === codigo; });

        // Llena el formulario con los datos de la puerta
        document.getElementById('codigo').value = puerta.codigo;
        document.getElementById('numero').value = puerta.numero;
        document.getElementById('detalle').value = puerta.detalle;
    }

    window.onload = function() {
        // Obtén las puertas de localStorage
        var puertas = JSON.parse(localStorage.getItem('puertas')) || [];

        // Para cada puerta, crea una fila en la tabla
        puertas.forEach(function(puerta) {
            var fila = document.createElement('tr');
            fila.innerHTML = `
                <td>${puerta.codigo}</td>
                <td>${puerta.numero}</td>
                <td>${puerta.detalle}</td>
                <td><button onclick="editarPuerta('${puerta.codigo}')">Editar</button></td>
            `;
            document.querySelector('.data-table tbody').appendChild(fila);
        });
    };


    
    function crearPuerta() {
    // Obtén los valores del formulario
    var codigo = document.getElementById('codigo').value;
    var numero = document.getElementById('numero').value;
    var detalle = document.getElementById('detalle').value;

    // Crea un objeto de puerta
    var puerta = { codigo: codigo, numero: numero, detalle: detalle };

    // Obtén las puertas de localStorage
    var puertas = JSON.parse(localStorage.getItem('puertas')) || [];

    // Agrega la nueva puerta a la lista
    puertas.push(puerta);

    // Guarda las puertas en localStorage
    localStorage.setItem('puertas', JSON.stringify(puertas));

    // Muestra un mensaje de alerta
    alert('Puerta creada');

    // Actualiza la tabla
    actualizarTabla();

    // Limpia el formulario
    document.getElementById('form-puerta').reset();
}




function actualizarTabla() {
    // Obtén las puertas de localStorage
    var puertas = JSON.parse(localStorage.getItem('puertas')) || [];

    // Limpia la tabla
    var tbody = document.querySelector('.data-table tbody');
    while (tbody.firstChild) {
        tbody.removeChild(tbody.firstChild);
    }

    // Para cada puerta, crea una fila en la tabla
    puertas.forEach(function(puerta) {
        var fila = document.createElement('tr');
        fila.innerHTML = `
            <td>${puerta.codigo}</td>
            <td>${puerta.numero}</td>
            <td>${puerta.detalle}</td>
            <td><button onclick="editarPuerta('${puerta.codigo}')">Editar</button></td>
        `;
        tbody.appendChild(fila);
    });
}

// Llama a actualizarTabla cuando se carga la página
window.onload = actualizarTabla;



document.getElementById('form-puerta').addEventListener('submit', function(e) {
    // Previene el comportamiento predeterminado del formulario
    e.preventDefault();

    // Crea la puerta
    crearPuerta();
});


</script>

    
    





    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>

</html>
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Usuarios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">    <link rel="stylesheet" href="AdministracionStyles.css">
    <link rel="stylesheet" href="CrearUsuarios.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link text-white" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/HomeAdministrador.html">Inicio</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-white" href="#" role="button"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        Usuarios
                        </a>
                        <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Seguridad/Administracion-CrearUsuarios.html">Crear Usuarios</a></li>
                        <li><a class="dropdown-item" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Seguridad/Administracion-VerUsuarios.html">Ver Usuarios</a></li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-white" href="#" role="button"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        Administración
                        </a>
                        <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Administracion/Administracion-Aerolineas.html">Aerolíneas</a></li>
                        <li><a class="dropdown-item" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Administracion/Administracion-Paises.html">Países</a></li>
                        <li><a class="dropdown-item" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Administracion/Administracion-PuertasAeropuerto.html">Puertas del Aeropuerto</a></li>
                        <li><a class="dropdown-item" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Administracion/Administracion-CompraBoletos.html">Compras de Boletos</a></li>
                        <li><a class="dropdown-item" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Administracion/Administracion-Vuelos.html">Vuelos</a></li>
                        <li><a class="dropdown-item" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Administracion/Administracion-Consecutivos.html">Consecutivos</a></li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-white" href="#" role="button"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        Consultas
                        </a>
                        <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Consultas/Administracion-BitacoraSistema.html">Bitácora del Sistema</a></li>
                        <li><a class="dropdown-item" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Consultas/Administracion-Errores.html">Errores</a></li>
                        <li><a class="dropdown-item" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Consultas/Administracion-AerolineasPaises.html">Aeroíneas por país</a></li>
                        <li><a class="dropdown-item" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/Consultas/Administracion-PuertasActivas.html">Puertas Activas</a></li>
                        </ul>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link text-white" href="http://localhost:8080/PROYECTO-EVUELOSWEB/RolAdministrador/PerfilAdministrador.html">Perfil</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </nav>


    <div class="container">
        <h1>Registrar Nuevo Usuario</h1>
        <form id="registrationForm" action="#">
            <div class="input-field">
                <label for="username">Nombre de Usuario</label>
                <input type="text" id="username" name="username" required />
            </div>
            <div class="input-field">
                <label for="email">Correo Electrónico</label>
                <input type="email" id="email" name="email" required />
            </div>
            <div class="input-field">
                <label for="password">Contraseña</label>
                <input type="password" id="password" name="password" required />
            </div>
            <div class="input-field">
                <label for="confirm-password">Confirme su contraseña</label>
                <input type="password" id="confirm-password" name="confirm-password" required />
            </div>
            <div class="input-field">
                <label for="security-question">Pregunta de Seguridad</label>
                <select id="security-question" name="security-question" required>
                    <option value="">Seleccione una pregunta</option>
                    <option value="q1">¿Cuál es el nombre de tu primera mascota?</option>
                    <option value="q2">¿Cuál es tu ciudad natal?</option>
                    <option value="q3">¿Cuál es tu color favorito?</option>
                    <option value="q4">¿Cuál es el nombre de tu mejor amigo de la infancia?</option>
                    <option value="q5">¿Cuál es tu película favorita?</option>
                </select>
            </div>
            <div class="input-field">
                <label for="security-answer">Respuesta de Seguridad</label>
                <input type="text" id="security-answer" name="security-answer" required />
            </div>
            <br>
            <button type="submit" class="btn">Registrar</button>
        </form>
    
        
    </div>
    
    <script>
    document.getElementById('registrationForm').addEventListener('submit', function(e) {
        e.preventDefault();
    
        var username = document.getElementById('username').value;
        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;
        var confirmPassword = document.getElementById('confirm-password').value;
        var securityQuestion = document.getElementById('security-question').value;
        var securityAnswer = document.getElementById('security-answer').value;
    
        if (password !== confirmPassword) {
            alert('Las contraseñas no coinciden. Por favor, inténtalo de nuevo.');
            return;
        }
    
        // Guarda la información del usuario en el almacenamiento local
        var users = JSON.parse(localStorage.getItem('users')) || [];
        users.push({ username: username, email: email, role: 'Usuario' }); // Agrega el campo de rol
        localStorage.setItem('users', JSON.stringify(users));
    
        alert('El usuario ' + username + ' ha sido registrado con éxito.');
    
        // Actualiza la tabla de usuarios
        updateTable();
    
        // Limpia las casillas
        document.getElementById('registrationForm').reset();
    });
    
    function updateTable() {
        var users = JSON.parse(localStorage.getItem('users')) || [];
        var userTable = document.getElementById('userTable');
    
        // Limpiar la tabla antes de actualizar
        userTable.innerHTML = '';
    
        for (var i = 0; i < users.length; i++) {
            var row = document.createElement('tr');
    
            var nameCell = document.createElement('td');
            nameCell.textContent = users[i].username;
            row.appendChild(nameCell);
    
            var roleCell = document.createElement('td');
            roleCell.textContent = users[i].role || 'Usuario'; // Puedes cambiar esto según la lógica de tu aplicación
            row.appendChild(roleCell);
    
            var actionCell = document.createElement('td');
            actionCell.textContent = users[i].action || 'Ninguna'; // Puedes cambiar esto según la lógica de tu aplicación
            row.appendChild(actionCell);
    
            userTable.appendChild(row);
        }
    }
    </script>
    


    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
